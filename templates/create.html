{% extends 'base.html' %}

{% block content %}
<h1>{% block title %} Создать новый шаблон Workflow {% endblock %}</h1>

 <script>
$(document).ready(function() {

var MaxInputs       = 8; //maximum input boxes allowed
var InputsWrapper   = $("#InputsWrapper"); //Input boxes wrapper ID
var AddButton       = $("#AddMoreFileBox"); //Add button ID

var x = InputsWrapper.length; //initlal text box count
var FieldCount=1; //to keep track of text box added

$(AddButton).click(function (e)  //on add input button click
{
    if(x <= MaxInputs) //max input box allowed
    {
        FieldCount++; //text box added increment
        //add input box
        $(InputsWrapper).append('<div class="row"><div  class="col-md-2" >Переменная</div><div  class="col-md-6"><input type="text" placeholder="Переменная '+ FieldCount +'"  class="form-control" name="per" id="field_'+ FieldCount +'" value=""/></div><a href="#" class="btn btn-danger removeclass">×</a></div>');
        x++; //text box increment
    }
    return false;
});

$("body").on("click",".removeclass", function(e){ //user click on remove text
    if( x > 1 ) {
        $(this).parent('div').remove(); //remove text box
         x--; //decrement textbox
    }
    return false;
})


});
</script>
<style>
.row {padding:10px;}
.colortext {
background-color: #F7D96A; /* Цвет фона */
color: #0; /* Цвет текста */
}
</style>
    <div class="form-group">
        <form method="post">
        <div id="InputsWrapper">
            <div class="row">
                <div class="col-md-2"><b>Название</b></div>
                <div class="col-md-10">
                    <input type="text" name="workflow" id="workflow" placeholder="Название" class="form-control colortext" value="{{request.form['workflow']}}"></input>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">Переменная</div>
                <div class="col-md-6"><input type="text" name="per" placeholder="Переменная" class="form-control colortext" value="{{ request.form['per'] }}"></input></div>
                <div><button type="button" name="add" id="AddMoreFileBox" class="btn btn-primary">Добавить переменную</button></div>
            </div>
        </div>
        <br/>
            <button type="submit" class="btn btn-primary">Создать</button>
        </form>

    </div>
{% endblock %}
